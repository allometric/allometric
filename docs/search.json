[{"path":"http://brycefrank.com/allometric/articles/advanced_searching.html","id":"finding-contributing-authors","dir":"Articles","previous_headings":"","what":"Finding Contributing Authors","title":"Advanced Model Searching","text":"Let’s say want search model 'Hann' contributing author. can done elegant use dplyr::filter purrr::map_lgl. beginning, helpful know purrr::map_lgl returns list TRUE/FALSE values “maps” list input. Consider vector auth <- c('Hann', 'Doe'), check vector contains 'Hann' using expression 'Hann' %% auth. Knowing , let’s take look filtering models containing Hann author: Picking apart code block, see using standard dplyr::filter function allometric_models dataframe. second argument call using purrr:map_lgl, map list (contained elements family_names column). second argument function, ~ 'Hann' %% . function checks 'Hann' current list. Imagine marching row allometric_models, . represents element family_names considering, list author names.","code":"hann_models <- dplyr::filter(   allometric_models,   purrr::map_lgl(family_names, ~ 'Hann' %in% .) )  head(hann_models) ## # A tibble: 6 × 13 ##   id       compo…¹ measure country region family genus species model      pub_id ##   <chr>    <chr>   <chr>   <list>  <list> <chr>  <chr> <chr>   <list>     <chr>  ## 1 a580b7ab crown   ratio   <chr>   <chr>  Cupre… Calo… decurr… <FxdEffcM> ritch… ## 2 adeaf86e stem    diamet… <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 3 f85c0bd6 stump   diamet… <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 4 6aa0bc1e stem    volume  <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 5 320fdcc2 crown   ratio   <chr>   <chr>  Erica… Arbu… menzie… <FxdEffcM> ritch… ## 6 b983dce3 crown   ratio   <chr>   <chr>  Fagac… Chry… chryso… <FxdEffcM> ritch… ## # … with 3 more variables: family_names <list>, covt_names <list>, ## #   pub_year <dbl>, and abbreviated variable name ¹​component nrow(hann_models) ## [1] 40"},{"path":"http://brycefrank.com/allometric/articles/advanced_searching.html","id":"finding-first-authors","dir":"Articles","previous_headings":"","what":"Finding First Authors","title":"Advanced Model Searching","text":"Maybe interested models 'Hann' first author. Using simple modification can easily . can see 'Hann' first author 18 models package.","code":"hann_first_author_models <- dplyr::filter(   allometric_models,   purrr::map_lgl(family_names, ~ 'Hann' == .[[1]]) )  head(hann_first_author_models) ## # A tibble: 6 × 13 ##   id       compo…¹ measure country region family genus species model      pub_id ##   <chr>    <chr>   <chr>   <list>  <list> <chr>  <chr> <chr>   <list>     <chr>  ## 1 adeaf86e stem    diamet… <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 2 f85c0bd6 stump   diamet… <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 3 6aa0bc1e stem    volume  <chr>   <chr>  Cupre… Calo… NA      <FxdEffcM> hann_… ## 4 fd071661 stem    diamet… <chr>   <chr>  Pinac… Abies concol… <FxdEffcM> hann_… ## 5 8419eccf stump   diamet… <chr>   <chr>  Pinac… Abies concol… <FxdEffcM> hann_… ## 6 0ddbb194 stem    volume  <chr>   <chr>  Pinac… Abies concol… <FxdEffcM> hann_… ## # … with 3 more variables: family_names <list>, covt_names <list>, ## #   pub_year <dbl>, and abbreviated variable name ¹​component nrow(hann_first_author_models) ## [1] 20"},{"path":"http://brycefrank.com/allometric/articles/advanced_searching.html","id":"finding-a-model-with-specific-data-requirements","dir":"Articles","previous_headings":"","what":"Finding a Model with Specific Data Requirements","title":"Advanced Model Searching","text":"can even check models contain certain types data requirements. example, following block finds diameter-height models, specifically models use diameter outside bark breast height covariate. utility obvious, since many inventories vastly limited available tree measurements. Breaking , first condition measure=='height' selecting models concerned heights response variable. second line maps element covt_names column, character vector. . represents given character vector row. First, ensure vector one element size using length(.)==1, ensure first () element vector equal 'dsob', (diameter outside bark breast height). case, 23 available package.","code":"dia_ht_models <- dplyr::filter(     allometric_models,     measure == 'height',     purrr::map_lgl(covt_names, ~ length(.)==1 & .[[1]] == 'dsob'), )  nrow(dia_ht_models) ## [1] 23"},{"path":"http://brycefrank.com/allometric/articles/advanced_searching.html","id":"finding-a-model-for-a-region","dir":"Articles","previous_headings":"","what":"Finding a Model for a Region","title":"Advanced Model Searching","text":"now user sensing pattern. can apply exact logic Finding Contributing Authors section find models developed using data US-can see 81 allometric models defined state Oregon, US.","code":"us_or_models <- dplyr::filter(     allometric_models,     purrr::map_lgl(region, ~ \"US-OR\" %in% .), )  nrow(us_or_models) ## [1] 81"},{"path":"http://brycefrank.com/allometric/articles/deep_dive.html","id":"motivating-ideas","dir":"Articles","previous_headings":"","what":"Motivating Ideas","title":"A Deep Dive into `allometric`","text":"allometric inspired number existing packages including National Volume Estimator Library, FVS, ORGANON. packages, extent another, implement allometric equations purposes tree-level volume predictions, taper, growth modeling, etc. However, scope software geographically constrained United States, structure database may require agency-specific data USFS Forest Region. work consulting biometrician, found need “database” sorts allometric equations global scale. able make volume prediction Norway spruce just easily Ponderosa pine. Ideally, software centralized, provide clear connections scientific literature given species. way, can check paper verify volume model want . sum, ideal software : Enable easy clear searching allometric equations response variable, geographic region, species global set models. Provide citation every model package. Provide easy--use prediction functions, clear requirements use, information needed covariates measurement units. many ways, first allometric modeling package forvol attempt three objectives. However, package flawed beginning, since heavily relied USFS-FIA specification files, naturally constrained package United States. also considered volume functions, general setting allometric models. forvol also fairly complicated structure. required intimate knowledge NVEL equation codes editing several specification files simultaneously. true open source platform allometric equations facilitate open source contributions. led fourth objective Allow biometricians familiar R (relatively) easy way contribute addition allometric equations.","code":""},{"path":"http://brycefrank.com/allometric/articles/deep_dive.html","id":"package-structure","dir":"Articles","previous_headings":"","what":"Package Structure","title":"A Deep Dive into `allometric`","text":"objectives mind, package structure began take shape number weeks. clear objective 2. publications needed intimate component package. fact, Publication class primary entry point adding models. Publication objects contain “children” called ModelSets turn ModelSets contain Model objects. Using structure, allometric models intimately tied source publication.","code":""},{"path":"http://brycefrank.com/allometric/articles/descriptors.html","id":"specifying-descriptors-at-different-levels","dir":"Articles","previous_headings":"","what":"Specifying Descriptors at Different Levels","title":"Describing a Model with Descriptors","text":"allometric operates three levels arranged hierarchy. publications, model sets within publications models within model sets. convenience, contributors can define descriptors level, understanding descriptors defined level apply uniformly models lower hierarchy. example, source code Brackett model installation specifies country region publication-level. means models brackett_1977 constructed data state Washington United States. FixedEffectsSet, MixedEffectsSet respective FixedEffectsModel MixedEffectsModel classes descriptors argument can used specifying descriptors levels. Refer Installing Model vignette examples levels.","code":"brackett_1977 <- Publication(   citation = bracket_1977_citation,   descriptors = list(     country = \"US\",     region = \"US-WA\"   ) )"},{"path":"http://brycefrank.com/allometric/articles/descriptors.html","id":"search-descriptors","dir":"Articles","previous_headings":"","what":"Search Descriptors","title":"Describing a Model with Descriptors","text":"Authors encouraged define set search descriptors able. descriptors propagated allometric_models table allow quick filtering allometric equations set search descriptors : country - country (countries) dataset used model. Countries must two-character ISO 3166-1 alpha-2 names. region - region dataset used model. Regions defined subsets countries, must comply four-character region codes given ISO 3166-2. States example regions, e.g., \"US-CO\" Colorado, US. family - taxonomic family dataset used model. genus - taxonomic genus dataset used model. species - taxonomic species dataset used model.","code":""},{"path":"http://brycefrank.com/allometric/articles/ignore/deep_dive.html","id":"motivating-ideas","dir":"Articles > Ignore","previous_headings":"","what":"Motivating Ideas","title":"A Deep Dive into `allometric`","text":"allometric inspired number existing packages including National Volume Estimator Library, FVS, ORGANON. packages, extent another, implement allometric equations purposes tree-level volume predictions, taper, growth modeling, etc. However, scope software geographically constrained United States, structure database may require agency-specific data USFS Forest Region. work consulting biometrician, found need “database” sorts allometric equations global scale. able make volume prediction Norway spruce just easily Ponderosa pine. Ideally, software centralized, provide clear connections scientific literature given species. way, can check paper verify volume model want . sum, ideal software : Enable easy clear searching allometric equations response variable, geographic region, species global set models. Provide citation every model package. Provide easy--use prediction functions, clear requirements use, information needed covariates measurement units. many ways, first allometric modeling package forvol attempt three objectives. However, package flawed beginning, since heavily relied USFS-FIA specification files, naturally constrained package United States. also considered volume functions, general setting allometric models. forvol also fairly complicated structure. required intimate knowledge NVEL equation codes editing several specification files simultaneously. true open source platform allometric equations facilitate open source contributions. led fourth objective Allow biometricians familiar R (relatively) easy way contribute addition allometric equations.","code":""},{"path":"http://brycefrank.com/allometric/articles/ignore/deep_dive.html","id":"package-structure","dir":"Articles > Ignore","previous_headings":"","what":"Package Structure","title":"A Deep Dive into `allometric`","text":"objectives mind, package structure began take shape number weeks. clear objective 2. publications needed intimate component package. fact, Publication class primary entry point adding models. Publication objects contain “children” called ModelSets turn ModelSets contain Model objects. Using structure, allometric models intimately tied source publication.","code":""},{"path":"http://brycefrank.com/allometric/articles/installing_a_model.html","id":"establishing-a-publication","dir":"Articles","previous_headings":"","what":"Establishing a Publication","title":"Installing a Model","text":"allometric::Publication class represents given scientific article, report, technical document contains allometric models. Citations established using RefManageR::BibEntry R representation BibTex citation. example, BibEntry following publication H. Temesgen, V. J. Monleon, D. W. Hann. “Analysis comparison nonlinear tree height prediction strategies Douglas-fir forests”. : Canadian Journal Forest Research 38.3 (2008), pp. 553-565. many different types publications available, called “entry types”, documentation required fields given . function creates Publication requires two arguments, citation optional list descriptors. role descriptors become clear progress. now, just know descriptors named list attributes apply models publication. example, models publication Douglas-fir, developed using data United States Oregon. mind, establish Publication object. temesgen_2008 now represents publication citation information metadata describe aspects models inside. One problem, models inside publication yet, must add .","code":"paper_citation <- RefManageR::BibEntry(     bibtype = 'article',     key = 'temesgen_2008',     title = 'Analysis and comparison of nonlinear tree height prediction         strategies for Douglas-fir forests',     author = 'Temesgen, Hailemariam and Monleon, Vicente J. and Hann, David W.',     journal = 'Canadian Journal of Forest Research',     year = 2008,     volume = 38,     number = 3,     pages = '553-565',     year = 2008 ) temesgen_2008 <- Publication(     citation = paper_citation,     descriptors = list(         country = 'US',         region = \"US-OR\",         family = 'Pinaceae',         genus = 'Pseudotsuga',         species = 'menziesii'     ) )"},{"path":"http://brycefrank.com/allometric/articles/installing_a_model.html","id":"adding-a-single-model","dir":"Articles","previous_headings":"","what":"Adding a Single Model","title":"Installing a Model","text":"Models can added one time. convenient ways adding models described next section, let us start just one model. publication using implements several fixed effects models predict heights trees using various covariates. One functions authors use \\(h = 1.37 + b_0 * (1 - \\exp(b_1 * d)^{b_2}\\) \\(h\\) represents height \\(d\\) represents diameter outside bark. Note height function covariate \\(d\\) finite set parameters, \\(b_0\\), \\(b_1\\) \\(b_2\\). perfect candidate FixedEffectsModel class. can see three arguments used, response_unit, covariate_units, parameters predict_fn. response_unit - named list containing one element, name response variable. case hst indicates model height stem using total height. value element established providing units using units package. case, units defined meters. covariate_units - named list containing covariates usied model. case, one covariate used called dsob stands diameter stem, outside bark breast height. , units defined, time centimeters. parameters - named list containing parameters estimates. predict_fn - prediction function. Note body function written using parameters covariates, argument provided function dsob, .e., one covariate model uses. author’s convenience, parameters populated function later phase, need defined arguments predict_fn. Finally, add model publication using add_model","code":"temesgen_2008_model_one <- FixedEffectsModel(   response_unit = list(     hst = units::as_units('m')   ),   covariate_units = list(     dsob = units::as_units('cm')   ),   parameters = list(     beta_0 = 51.9954,     beta_1 = -0.0208,     beta_2 = 1.0182   ),   predict_fn = function(dsob) {     1.37 + beta_0 * (1 - exp(beta_1 * dsob)^beta_2)   } ) temesgen_2008 <- add_model(temesgen_2008, temesgen_2008_model_one)"},{"path":"http://brycefrank.com/allometric/articles/installing_a_model.html","id":"adding-a-model-set","dir":"Articles","previous_headings":"","what":"Adding a Model Set","title":"Installing a Model","text":"frequent pattern allometric modeling papers “model sets”, sets allometric models response, covariate functional structure, fit several species, age classes, etc. example, Brackett (1977) fit 24 cubic volume functions different species disaggregated geographic region species. ModelSet class allometric efficiently deals types model structures. example use FixedEffectsSet represents set fixed effects models. Model sets allow author import table (e.g., .csv) model descriptions quickly define large sets ParametricModels. task, consider Brackett (1977) publication. begin defining Publication. can see citation information shared descriptors. Note case, descriptors contains country region. individual model brackett_1977 uniform respect species temsegen_2008, define descriptors model-level. Next, load data frame model descriptions examine can see model_specifications contains number individual models specified column names referred descriptors. case, descriptors includes family, genus, species, geographic_region age_class. combination values uniquely identifies model within publication. family, genus species part standard set descriptors called “search descriptors”, get propagated searching functions described README. geographic_region age_class search descriptors, still help clarify purpose model within publication. Next, instantiate FixedEffectsSet, looks similar FixedEffectsModelModel used previous section. arguments , implication response unit, covariate units prediction_fn apply uniformly models set. Finally, add model set publication using add_set print summary verify model added. summary shows publication name, followed list model sets defined publication. can see 1 model set vsa (volume stem including top stump) contains 24 models.","code":"bracket_1977_citation <- RefManageR::BibEntry(     bibtype = 'techreport',     key = 'brackett_1977',     title = 'Notes on tarif tree volume computation',     author = 'Brackett, Michael',     year = 1977,     institution = 'State of Washington, Dept. of Natural Resources' )  brackett_1977 <- Publication(     citation = bracket_1977_citation,     descriptors = list(         country = \"US\",         region = \"US-WA\"     ) ) model_specifications <- tibble::as_tibble(load_parameter_frame(\"vsa_brackett_1977\")) head(model_specifications) ## # A tibble: 6 × 8 ##   family   genus       species      geographic_region age_cl…¹     a     b     c ##   <chr>    <chr>       <chr>        <chr>             <chr>    <dbl> <dbl> <dbl> ## 1 Pinaceae Pseudotsuga menziesii    coastal           < 140 y… -2.66  1.74 1.13  ## 2 Pinaceae Pseudotsuga menziesii    coastal           >= 80 y… -2.71  1.66 1.20  ## 3 Pinaceae Pseudotsuga menziesii    interior          NA       -2.73  1.74 1.17  ## 4 Pinaceae Tsuga       heterophylla coastal           < 140 y… -2.70  1.84 1.12  ## 5 Pinaceae Tsuga       heterophylla coastal           >= 80 y… -2.66  1.79 1.12  ## 6 Pinaceae Tsuga       heterophylla interior          NA       -2.57  1.97 0.977 ## # … with abbreviated variable name ¹​age_class brackett_1977_model_set <- FixedEffectsSet(     response_unit = list(         vsa = units::as_units('ft3')     ),     covariate_units = list(         dsob = units::as_units('in'),         hst  = units::as_units('ft')     ),     parameter_names = c('a', 'b', 'c'),     predict_fn = function(dsob, hst) {         10^a * dsob^b * hst^c     },     model_specifications = model_specifications ) brackett_1977 <- add_set(brackett_1977, brackett_1977_model_set) brackett_1977 ## Brackett (1977) ## --- vsa: 1 model set ## --------- 24 models"},{"path":"http://brycefrank.com/allometric/articles/installing_a_model.html","id":"where-do-publications-go-from-here","dir":"Articles","previous_headings":"","what":"Where do Publications go from here?","title":"Installing a Model","text":"publication added models located .R file inst/publications models contained within can now installed user using install_models(). fact, exactly user initially gains access allometric_models table. ever interested viewing source code model, just find matching .R file inst/publications, can viewed locally GitHub. files used example located inst/publications/temesgen_2008.R inst/publications/brackett_1977.R, respectively.","code":""},{"path":"http://brycefrank.com/allometric/articles/mixed_effects.html","id":"navigating-published-mixed-effects-models","dir":"Articles","previous_headings":"","what":"Navigating Published Mixed Effects Models","title":"Mixed-Effects Models","text":"Implementing published mixed-effects models , strictly speaking, possible allometric. However, predictions groups random parameters (e.g., field plots stands) require knowledge estimated variance-covariance matrix random parameters [cite]. well, partial derivatives model respect fixed-effects parameters needed. two components always explicitly provided publications. allometric directly cites publications implements models , best practice implement explicitly published, rather derive un-published portions models. @temesgen_2008 one example derivatives evalutated (p. 557), @sharma_2007 example derivatives evaluated (Section 2.4). Using approach, mixed-effects models @temesgen_2008 appropriate allometric mixed-effects models @sharma_2007 , since final model form strictly provided publication. Alternatively, predictions mixed-effects models can generated using fixed-effects estimates [cite], often reported.. fact, many studies assess performance mixed-effects model way, utility using fixed-effects estimates obvious observations new “target group” available. However, activity deviate purest intent model, explicitly flagged allometric installing MixedEffectsModel class argument fixed_only = TRUE denote fixed-effects generating predictions. argument propagated documentation model summaries alert users special case. Using approach, can still include mixed-effects models @sharma_2007 using fixed-effects estimates, flag model fixed_only argument maintain clarity.","code":""},{"path":"http://brycefrank.com/allometric/articles/mixed_effects.html","id":"implementing-a-mixed-effects-model","dir":"Articles","previous_headings":"","what":"Implementing a Mixed Effects Model","title":"Mixed-Effects Models","text":"predict_fn must function covariates, parameters observations target observation group. Furthermore body predict_fn can signle mathematical expression.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"measures","dir":"Articles","previous_headings":"","what":"Measures","title":"Variable Naming System","text":"variable names begin “measure”, measure established, decision tree used determine rest name. [xx] established measures: d: diameter h: height v: volume g: basal area b: biomass (weight) r: ratio (unitless) e: density recognize use “measure” somewhat loose (e.g., diameter height measures length). However, variable naming system meant preserve least connection commonly used terms variables allometric modeling.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"components","dir":"Articles","previous_headings":"","what":"Components","title":"Variable Naming System","text":"variable names second character specifies tree component. Established components : s: stem (including top stump) b: branch f: foliage k: bark c: crown n: stand - used refer stand-level variables (typically used covariates) p: plot - used refer plot-level variables (typically used covariates) Mixing first two character codes provides expressive system refer measures components. example, biomass foliage, one interested , begin bf, volume including top stump stem va, diameter stump du.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"measure-component-modifiers","dir":"Articles","previous_headings":"","what":"Measure-Component Modifiers","title":"Variable Naming System","text":"Within given measure-component pair, number useful modifiers available. specific measure-component pair. example, astute modeler may wondering, “refer diameter breast height outside bark”? modifiers enable level specificity.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"diameter-of-stem-ds-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Diameter of Stem (ds) Modifiers","title":"Variable Naming System","text":"common allometric variables stem diameter, arises taper modeling, merchantable heights , course, diameter breast height. ds modifiers enable user specify broad range variables. ds modifiers broken two parts. first character bark modifier second character height modifier. bark modifiers : o: outside bark : inside bark height modifiers : b: breast height s: stump height m: merchantable height [##]: specified height, using p decimal point necessary. example, diameter (stem) breast height outside bark dsob dso40 diameter (stem) outside bark 40 units length along stem.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"height-of-stem-hs-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Height of Stem (hs) Modifiers","title":"Variable Naming System","text":"t: total (base tip) b: crown base (base crown base) m: merchantable diameter s: stump (base stump)","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming.html","id":"volume-of-stem-vs-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Volume of Stem (vs) Modifiers","title":"Variable Naming System","text":"-[write later]","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"measures","dir":"Articles","previous_headings":"","what":"Measures","title":"Variable Naming System","text":"variable names begin “measure”, measure established, decision tree used determine rest name. [xx] established measures: d: diameter h: height v: volume g: basal area b: biomass (weight) r: ratio (unitless) e: density recognize use “measure” somewhat loose (e.g., diameter height measures length). However, variable naming system meant preserve least connection commonly used terms variables allometric modeling.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"components","dir":"Articles","previous_headings":"","what":"Components","title":"Variable Naming System","text":"variable names second character specifies tree component. Established components : s: stem (including top stump) b: branch f: foliage k: bark c: crown n: stand - used refer stand-level variables (typically used covariates) p: plot - used refer plot-level variables (typically used covariates) u: stump Mixing first two character codes provides expressive system refer measures components. example, biomass foliage, one interested , begin bf, volume including top stump stem va, diameter stump du.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"measure-component-modifiers","dir":"Articles","previous_headings":"","what":"Measure-Component Modifiers","title":"Variable Naming System","text":"Within given measure-component pair, number useful modifiers available. specific measure-component pair. example, astute modeler may wondering, “refer diameter breast height outside bark”? modifiers enable level specificity.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"diameter-of-stem-ds-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Diameter of Stem (ds) Modifiers","title":"Variable Naming System","text":"common allometric variables stem diameter, arises taper modeling, merchantable heights , course, diameter breast height. ds modifiers enable user specify broad range variables. ds modifiers broken two parts. first character bark modifier second character height modifier. bark modifiers : o: outside bark : inside bark height modifiers : b: breast height s: stump height m: merchantable height [##]: specified height, using p decimal point necessary. example, diameter (stem) breast height outside bark dsob dso40 diameter (stem) outside bark 40 units length along stem.","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"height-of-stem-hs-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Height of Stem (hs) Modifiers","title":"Variable Naming System","text":"t: total (base tip) b: crown base (base crown base) m: merchantable diameter s: stump (base stump)","code":""},{"path":"http://brycefrank.com/allometric/articles/variable_naming_system.html","id":"volume-of-stem-vs-modifiers","dir":"Articles","previous_headings":"Measure-Component Modifiers","what":"Volume of Stem (vs) Modifiers","title":"Variable Naming System","text":"-[write later]","code":""},{"path":"http://brycefrank.com/allometric/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bryce Frank. Author, maintainer.","code":""},{"path":"http://brycefrank.com/allometric/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Frank B (2023). allometric: Allometric Models Trees. R package version 0.0.1.","code":"@Manual{,   title = {allometric: Allometric Models for Trees},   author = {Bryce Frank},   year = {2023},   note = {R package version 0.0.1}, }"},{"path":"http://brycefrank.com/allometric/index.html","id":"allometric-","dir":"","previous_headings":"","what":"Allometric Models for Trees","title":"Allometric Models for Trees","text":"allometric R package predicting tree attributes allometric models. Thousands allometric models exist scientific technical forestry literature, allometric platform archiving using vast array models robust structured format. allometric enables use allometric models analysis, also provides structured language adding models package. interested helping developer process please refer Installing Model vignette. Currently, allometric contains 125 allometric models across 15 publications. Refer Reference full list publications disaggregated allometric model type. allometric currently pre-release state. interested collaboration (adding models working package functions) please email bfrank70@gmail.com","code":""},{"path":"http://brycefrank.com/allometric/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Allometric Models for Trees","text":"Currently allometric available GitHub, can installed using devtools.","code":"devtools::install_github(\"brycefrank/allometric\")"},{"path":"http://brycefrank.com/allometric/index.html","id":"getting-started","dir":"","previous_headings":"","what":"Getting Started","title":"Allometric Models for Trees","text":"users interested finding using allometric equations analysis. allometric allows rapid searching currently installed models. beginning, make sure install models locally running compiles allometric models, enables use. install_models needs ran installation following package updates. running function, models available variable allometric_models. Finding Selecting Model allometric_models tibble::tbl_df dataframe. row represents one allometric model various attributes. columns list columns, columns contain lists multiple values elements. One example family_names column, contains names authors publication contains model. list columns enable rigorous searching models covered Advanced Model Searching vignette, get started use helper function called unnest_models give us clearer picture available data. Now, row represents unique data combinations model, can quickly filtered users using dplyr::filter. example, find volume model genus Alnus \"Brackett\" author co-author can use can see model 0d046a1d volume model written Brackett Alnus rubra. model can selected using id field: using row index Determine Needed Information brackett_alnus_mod now represents allometric model can used prediction. Using standard output brackett_alnus_mod obtain summary model form, response variable, needed covariates units, summary model descriptors (.e., makes model unique within publication), estimates parameters. can see brackett_alnus_mod require two covariates called dsob, refers diameter outside bark breast height, hst, height main stem. Predict Using Selected Model Using predict method can easily use function defined providing values two covariates. can use prediction function data frame values even using convenience dplyr","code":"library(allometric) install_models() head(allometric_models) #> # A tibble: 6 × 13 #>   id       component measure  country   region    family       genus      species   model      pub_id        family_names covt_names pub_year #>   <chr>    <chr>     <chr>    <list>    <list>    <chr>        <chr>      <chr>     <list>     <chr>         <list>       <list>        <dbl> #> 1 b946c15c stem      volume   <chr [1]> <chr [1]> Aceraceae    Acer       <NA>      <FxdEffcM> brackett_1977 <chr [1]>    <chr [2]>      1977 #> 2 b9777a6d stem      diameter <chr [2]> <chr [3]> Betulaceae   Alnus      rubra     <FxdEffcM> bluhm_2007    <chr [3]>    <chr [4]>      2007 #> 3 0d046a1d stem      volume   <chr [1]> <chr [1]> Betulaceae   Alnus      rubra     <FxdEffcM> brackett_1977 <chr [1]>    <chr [2]>      1977 #> 4 f01a818f stem      diameter <chr [2]> <chr [3]> Betulaceae   Alnus      rubra     <FxdEffcM> hibbs_2007    <chr [3]>    <chr [3]>      2007 #> 5 095a3821 stem      volume   <chr [1]> <chr [1]> Betulaceae   Betula     <NA>      <FxdEffcM> brackett_1977 <chr [1]>    <chr [2]>      1977 #> 6 a580b7ab crown     ratio    <chr [1]> <chr [1]> Cupressaceae Calocedrus decurrens <FxdEffcM> ritchie_1987  <chr [2]>    <chr [4]>      1987 unnested_models <- unnest_models(allometric_models) unnested_models #> # A tibble: 944 × 13 #>    id       component measure  country region family     genus species model      pub_id        family_names covt_names pub_year #>    <chr>    <chr>     <chr>    <chr>   <chr>  <chr>      <chr> <chr>   <list>     <chr>         <chr>        <chr>         <dbl> #>  1 b946c15c stem      volume   US      US-WA  Aceraceae  Acer  <NA>    <FxdEffcM> brackett_1977 Brackett     dsob           1977 #>  2 b946c15c stem      volume   US      US-WA  Aceraceae  Acer  <NA>    <FxdEffcM> brackett_1977 Brackett     hst            1977 #>  3 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Bluhm        dsob           2007 #>  4 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Bluhm        hst            2007 #>  5 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Bluhm        hsd            2007 #>  6 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Bluhm        rc             2007 #>  7 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Garber       dsob           2007 #>  8 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Garber       hst            2007 #>  9 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Garber       hsd            2007 #> 10 b9777a6d stem      diameter US      US-OR  Betulaceae Alnus rubra   <FxdEffcM> bluhm_2007    Garber       rc             2007 #> # … with 934 more rows brackett_alnus_vol <- unnested_models %>%   dplyr::filter(family_names == \"Brackett\", measure==\"volume\",     genus==\"Alnus\")  brackett_alnus_vol #> # A tibble: 2 × 13 #>   id       component measure country region family     genus species model      pub_id        family_names covt_names pub_year #>   <chr>    <chr>     <chr>   <chr>   <chr>  <chr>      <chr> <chr>   <list>     <chr>         <chr>        <chr>         <dbl> #> 1 0d046a1d stem      volume  US      US-WA  Betulaceae Alnus rubra   <FxdEffcM> brackett_1977 Brackett     dsob           1977 #> 2 0d046a1d stem      volume  US      US-WA  Betulaceae Alnus rubra   <FxdEffcM> brackett_1977 Brackett     hst            1977 brackett_alnus_mod <- brackett_alnus_vol %>% select_model(\"0d046a1d\") brackett_alnus_mod <- brackett_alnus_vol %>% select_model(1) brackett_alnus_mod #> Model Form:  #> vsa = 10^a * dsob^b * hst^c  #>   #> vsa [ft3]: volume of the entire stem, including top and stump #> dsob [in]: diameter of the stem, outside bark at breast height #> hst [ft]: total height of the stem #>  #> Parameter Estimates:  #>           a        b        c #> 1 -2.672775 1.920617 1.074024 #>  #> Model Descriptors:  #>   country region     family genus species geographic_region age_class #> 1      US  US-WA Betulaceae Alnus   rubra              <NA>      <NA> predict(brackett_alnus_mod, 12, 65) #> [1] 22.2347 my_trees <- data.frame(dias = c(12, 15, 20), heights = c(65, 75, 100)) predict(brackett_alnus_mod, my_trees$dias, my_trees$heights) #> [1] 22.23470 39.80216 94.20053 my_trees %>%   mutate(vols = predict(brackett_alnus_mod, dias, heights)) #>   dias heights     vols #> 1   12      65 22.23470 #> 2   15      75 39.80216 #> 3   20     100 94.20053"},{"path":"http://brycefrank.com/allometric/index.html","id":"next-steps","dir":"","previous_headings":"","what":"Next Steps","title":"Allometric Models for Trees","text":"following vignettes available package website provide information two primary audiences. Users interested conducting analysis find vignette useful: Advanced Model Searching Users interested contributing models package find vignettes useful: Installing Model Describing Model Descriptors Variable Naming System","code":""},{"path":"http://brycefrank.com/allometric/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2022 allometric authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://brycefrank.com/allometric/reference/aggregate_results_ext.html","id":null,"dir":"Reference","previous_headings":"","what":"Transforms a set of searched models into a tibble of models and descriptors — aggregate_results_ext","title":"Transforms a set of searched models into a tibble of models and descriptors — aggregate_results_ext","text":"Transforms set searched models tibble models descriptors","code":""},{"path":"http://brycefrank.com/allometric/reference/aggregate_results_ext.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transforms a set of searched models into a tibble of models and descriptors — aggregate_results_ext","text":"","code":"aggregate_results_ext(results)"},{"path":"http://brycefrank.com/allometric/reference/AllometricModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Base class for allometric models — AllometricModel","title":"Base class for allometric models — AllometricModel","text":"class primarily used parent class model implementations.","code":""},{"path":"http://brycefrank.com/allometric/reference/AllometricModel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base class for allometric models — AllometricModel","text":"","code":"AllometricModel(   response_unit,   covariate_units,   predict_fn,   descriptors = list() )"},{"path":"http://brycefrank.com/allometric/reference/AllometricModel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Base class for allometric models — AllometricModel","text":"response_unit list containing one element name respone variable key units response variable class units::units covariate_units list containing covariates used model name covariate key units covariate class units::units predict_fn function takes covariates named covariate_units arguments.","code":""},{"path":"http://brycefrank.com/allometric/reference/bell_1981.html","id":null,"dir":"Reference","previous_headings":"","what":"Bell, Marshall, and Johnson (1981) — bell_1981","title":"Bell, Marshall, and Johnson (1981) — bell_1981","text":"Allometric models Bell, Marshall, Johnson (1981)","code":""},{"path":"http://brycefrank.com/allometric/reference/bell_1981.html","id":"stem-volume-models","dir":"Reference","previous_headings":"","what":"Stem Volume Models","title":"Bell, Marshall, and Johnson (1981) — bell_1981","text":"vsa = 10^* dsob^b * hst^c vsa [ft^3] - volume entire stem, including top stump dsob [] - diameter stem, outside bark breast height hst [ft] - total height stem Model Parameters","code":"a     b     c 1 -2.96  1.81  1.27"},{"path":"http://brycefrank.com/allometric/reference/bluhm_2007.html","id":null,"dir":"Reference","previous_headings":"","what":"Bluhm, Garber, and Hibbs (2007) — bluhm_2007","title":"Bluhm, Garber, and Hibbs (2007) — bluhm_2007","text":"Allometric models Bluhm, Garber, Hibbs (2007)","code":""},{"path":"http://brycefrank.com/allometric/reference/bluhm_2007.html","id":"stem-diameter-models","dir":"Reference","previous_headings":"","what":"Stem Diameter Models","title":"Bluhm, Garber, and Hibbs (2007) — bluhm_2007","text":"dsih = z <- hsd/hst, p <- 4.5/hst, x <- (1 - sqrt(z))/(1 - sqrt(p)), a_1 * dsob^a_2 * x^(a_3 * (1.364409 * dsob^(1/3) * exp(a_4 * z) + exp(a_5 * rc^a_6 * (dsob/hst)^a_7 * z))) dsih [] - diameter stem, inside bark specified height dsob [] - diameter stem, outside bark breast height hst [ft] - total height stem hsd [] - height specified diameter (taper) rc [ft/ft] - crown ratio Model Parameters","code":"a_1   a_2   a_3   a_4   a_5   a_6   a_7 1 0.911  1.02 0.262 -18.8  3.19 0.163 0.418"},{"path":"http://brycefrank.com/allometric/reference/brackett_1977.html","id":null,"dir":"Reference","previous_headings":"","what":"Brackett (1977) — brackett_1977","title":"Brackett (1977) — brackett_1977","text":"Allometric models Brackett (1977)","code":""},{"path":"http://brycefrank.com/allometric/reference/brackett_1977.html","id":"stem-volume-models","dir":"Reference","previous_headings":"","what":"Stem Volume Models","title":"Brackett (1977) — brackett_1977","text":"vsa = 10^* dsob^b * hst^c vsa [ft^3] - volume entire stem, including top stump dsob [] - diameter stem, outside bark breast height hst [ft] - total height stem Model Parameters","code":"family       genus       species      geographic_…¹ age_c…²     a     b     c  1 Pinaceae     Pseudotsuga menziesii    coastal       < 140 … -2.66  1.74 1.13   2 Pinaceae     Pseudotsuga menziesii    coastal       >= 80 … -2.71  1.66 1.20   3 Pinaceae     Pseudotsuga menziesii    interior      <NA>    -2.73  1.74 1.17   4 Pinaceae     Tsuga       heterophylla coastal       < 140 … -2.70  1.84 1.12   5 Pinaceae     Tsuga       heterophylla coastal       >= 80 … -2.66  1.79 1.12   6 Pinaceae     Tsuga       heterophylla interior      <NA>    -2.57  1.97 0.977  7 Cupressaceae Thuja       plicata      coastal       < 140 … -2.44  1.72 1.05   8 Cupressaceae Thuja       plicata      coastal       >= 80 … -2.38  1.68 1.04   9 Cupressaceae Thuja       plicata      interior      <NA>    -2.46  1.70 1.07  10 Pinaceae     Abies       balsamea     coastal       <NA>    -2.58  1.81 1.09  11 Pinaceae     Abies       balsamea     interior      <NA>    -2.50  1.86 1.00  12 Pinaceae     Picea       stichensis   <NA>          < 140 … -2.55  1.84 1.04  13 Pinaceae     Picea       stichensis   <NA>          >= 140… -2.70  1.75 1.16  14 Pinaceae     Picea       stichensis   interior      <NA>    -2.54  1.84 1.03  15 Pinaceae     Pinus       ponderosa    <NA>          <NA>    -2.73  1.91 1.09  16 Pinaceae     Pinus       contorta     <NA>          <NA>    -2.62  1.85 1.09  17 Pinaceae     Pinus       monticola    <NA>          <NA>    -2.48  1.87 0.994 18 Pinaceae     Larix       occidentalis <NA>          <NA>    -2.62  1.85 1.04  19 Cupressaceae Cupressus   nootkatensis <NA>          <NA>    -2.45  1.74 1.06  20 Betulaceae   Alnus       rubra        <NA>          <NA>    -2.67  1.92 1.07  21 Aceraceae    Acer        <NA>         <NA>          <NA>    -2.77  1.89 1.12  22 Salicaceae   Populus     tremuloides  <NA>          <NA>    -2.64  1.95 1.02  23 Betulaceae   Betula      <NA>         <NA>          <NA>    -2.76  1.91 1.11  24 Salicaceae   Populus     <NA>         <NA>          <NA>    -2.95  2    1.24  # … with abbreviated variable names ¹​geographic_region, ²​age_class"},{"path":"http://brycefrank.com/allometric/reference/bruce_1974.html","id":null,"dir":"Reference","previous_headings":"","what":"Bruce and DeMars (1974) — bruce_1974","title":"Bruce and DeMars (1974) — bruce_1974","text":"Allometric models Bruce DeMars (1974)","code":""},{"path":"http://brycefrank.com/allometric/reference/bruce_1974.html","id":"stem-volume-models","dir":"Reference","previous_headings":"","what":"Stem Volume Models","title":"Bruce and DeMars (1974) — bruce_1974","text":"vsa = fos <- * (hst - 0.9)^2/(hst - 4.5)^2 - b * dsob * (hst - 0.9)^3/(hst - 4.5)^3 + c * dsob * hst * (hst - 0.9)^3/(hst - 4.5)^3, d * fos * (dsob^2 * hst) vsa [ft^3] - volume entire stem, including top stump hst [ft] - total height stem dsob [] - diameter stem, outside bark breast height Model Parameters  vsa [ft^3] - volume entire stem, including top stump hst [ft] - total height stem dsob [] - diameter stem, outside bark breast height Model Parameters","code":"hst              a      b       c       d 1 <= 18 ft hst 0.406 0.0763 0.00263 0.00545 hst             a     b     c     d       e       f 1 > 18 ft hst 0.481  42.5  11.0 0.108 0.00409 0.00545"},{"path":"http://brycefrank.com/allometric/reference/check_args_in_predict_fn.html","id":null,"dir":"Reference","previous_headings":"","what":"Are the arguments given in the predict function inside the body? — check_args_in_predict_fn","title":"Are the arguments given in the predict function inside the body? — check_args_in_predict_fn","text":"arguments given predict function inside body?","code":""},{"path":"http://brycefrank.com/allometric/reference/check_args_in_predict_fn.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Are the arguments given in the predict function inside the body? — check_args_in_predict_fn","text":"","code":"check_args_in_predict_fn(object)"},{"path":"http://brycefrank.com/allometric/reference/check_covts_in_args.html","id":null,"dir":"Reference","previous_headings":"","what":"Are all covariates given as arguments? — check_covts_in_args","title":"Are all covariates given as arguments? — check_covts_in_args","text":"covariates given arguments?","code":""},{"path":"http://brycefrank.com/allometric/reference/check_covts_in_args.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Are all covariates given as arguments? — check_covts_in_args","text":"","code":"check_covts_in_args(object)"},{"path":"http://brycefrank.com/allometric/reference/check_descriptor_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Check validity of descriptors — check_descriptor_set","title":"Check validity of descriptors — check_descriptor_set","text":"must duplicate names across three sets (pub, set, model). , stop execution error names duplicated descriptors","code":""},{"path":"http://brycefrank.com/allometric/reference/check_descriptor_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check validity of descriptors — check_descriptor_set","text":"","code":"check_descriptor_set(descriptor_set)"},{"path":"http://brycefrank.com/allometric/reference/check_parametric_model.html","id":null,"dir":"Reference","previous_headings":"","what":"Check validity of parametric model — check_parametric_model","title":"Check validity of parametric model — check_parametric_model","text":"Check validity parametric model","code":""},{"path":"http://brycefrank.com/allometric/reference/check_parametric_model.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check validity of parametric model — check_parametric_model","text":"","code":"check_parametric_model(object)"},{"path":"http://brycefrank.com/allometric/reference/FixedEffectsModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Instantiate a fixed effects model. — FixedEffectsModel","title":"Instantiate a fixed effects model. — FixedEffectsModel","text":"class essentially wrapper around ParametricModel clarifies intent FixedEffectsModel MixedEffectsModel.","code":""},{"path":"http://brycefrank.com/allometric/reference/FixedEffectsModel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Instantiate a fixed effects model. — FixedEffectsModel","text":"","code":"FixedEffectsModel(   response_unit,   covariate_units,   predict_fn,   parameters,   descriptors = list() )"},{"path":"http://brycefrank.com/allometric/reference/get_model_hash.html","id":null,"dir":"Reference","previous_headings":"","what":"Hashes a function string — get_model_hash","title":"Hashes a function string — get_model_hash","text":"need sort stable data structure serve unique ID model, also change event model changes. way, models can \"versioned\" across time, may useful debugging purposes line. function trims whitespace lowercases predict_fn_populated, serves reasonable proxy model.","code":""},{"path":"http://brycefrank.com/allometric/reference/get_model_hash.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hashes a function string — get_model_hash","text":"","code":"get_model_hash(predict_fn_populated, descriptors)"},{"path":"http://brycefrank.com/allometric/reference/hann_1987.html","id":null,"dir":"Reference","previous_headings":"","what":"Hann, Scrivani, and others (1987) — hann_1987","title":"Hann, Scrivani, and others (1987) — hann_1987","text":"Allometric models Hann, Scrivani, others (1987)","code":""},{"path":"http://brycefrank.com/allometric/reference/hann_1987.html","id":"stem-height-models","dir":"Reference","previous_headings":"","what":"Stem Height Models","title":"Hann, Scrivani, and others (1987) — hann_1987","text":"hstix50 = 4.5 + (hst - 4.5) * exp(b_1 * (age - 50) + b_2 * (age - 50)^2 + b_3 * (age - 50) * log(hst - 4.5) + b_4 * (age - 50)^2 * log(hst - 4.5)) hstix50 [ft] - site index 50 year base age hst [ft] - total height stem age [yr] - variable defined Model Parameters  hstix50 [ft] - site index 50 year base age hst [ft] - total height stem age [yr] - variable defined Model Parameters","code":"family   genus       species       b_1      b_2     b_3       b_4 1 Pinaceae Pseudotsuga menziesii -0.0522 0.000715 0.00797 -0.000133 family   genus species       b_1      b_2    b_3        b_4 1 Pinaceae Pinus ponderosa -0.0699 0.000360 0.0120 -0.0000718"},{"path":"http://brycefrank.com/allometric/reference/hann_2011.html","id":null,"dir":"Reference","previous_headings":"","what":"Hann (2011) — hann_2011","title":"Hann (2011) — hann_2011","text":"Allometric models Hann (2011)","code":""},{"path":"http://brycefrank.com/allometric/reference/hann_2011.html","id":"stem-diameter-models","dir":"Reference","previous_headings":"","what":"Stem Diameter Models","title":"Hann (2011) — hann_2011","text":"dsib = b_1 * dsob^b_2 * exp(b_3 * (1 - rc)^(0.5)) dsib [] - diameter stem, inside bark breast height dsob [] - diameter stem, outside bark breast height rc [ft/ft] - crown ratio Model Parameters","code":"family       genus       species       b_1   b_2     b_3 1 Pinaceae     Pseudotsuga menziesii   0.924 0.989 -0.0341 2 Cupressaceae Calocedrus  <NA>        0.879 1     -0.0770 3 Pinaceae     Pinus       ponderosa   0.809 1.02   0      4 Pinaceae     Pinus       lambertiana 0.859 1      0      5 Pinaceae     Abies       concolor    0.922 1     -0.0342 6 Pinaceae     Abies       grandis     0.922 1     -0.0342"},{"path":"http://brycefrank.com/allometric/reference/hann_2011.html","id":"stump-diameter-models","dir":"Reference","previous_headings":"","what":"Stump Diameter Models","title":"Hann (2011) — hann_2011","text":"dui1 = b_1 + b_2 * dsob^b_3 * exp(b_4 * rc^b_5) dui1 [] - diameter stump, inside bark one unit dsob [] - diameter stem, outside bark breast height rc [ft/ft] - crown ratio Model Parameters","code":"family       genus       species       b_1   b_2 b_3            b_4   b_5 1 Pinaceae     Pseudotsuga menziesii   0.150 0.901 1.021366311  0.134  3.68 2 Cupressaceae Calocedrus  <NA>        0.452 0.832 1.056002686  0.216  7.00 3 Pinaceae     Pinus       ponderosa   0     1.00  0            0      0    4 Pinaceae     Pinus       lambertiana 0     1.04  0            0      0    5 Pinaceae     Abies       concolor    0.393 0.730 1 0978510098 0.121  1    6 Pinaceae     Abies       grandis     0.393 0.730 1 0978510098 0.121  1"},{"path":"http://brycefrank.com/allometric/reference/hann_2011.html","id":"stem-volume-models","dir":"Reference","previous_headings":"","what":"Stem Volume Models","title":"Hann (2011) — hann_2011","text":"vso = b_1 * (hso/dsob)^(b_2 * (1 - exp(b_3 * dsob^b_4)))^k * exp(b_5 * (hsv/hso)) * dsob^b_7 * dsob^2 * hso vso [ft^3] - volume stem breast height hso [ft] - height stem breast height dsob [] - diameter stem, outside bark breast height hsv [ft] - height stem crown base breast height Model Parameters","code":"family     genus species     b_1   b_2    b_3   b_4    b_5   b_6     b_7     k 1 Pinaceae   Pseu… menzie… 1.24e-3 0.346 -0.566 0.632 -0.152  4.56 -0.0512     1 2 Cupressac… Calo… <NA>    9.08e-4 0.343 -0.639 1.59   0      0     0          1 3 Pinaceae   Pinus ponder… 1.28e-3 0.162  1     0      0      0     0          0 4 Pinaceae   Pinus lamber… 8.56e-4 0.388  1     0      0      0     0          0 5 Pinaceae   Abies concol… 1.33e-3 0.358 -0.755 0.5   -0.262  1     0          1 6 Pinaceae   Abies grandis 1.33e-3 0.358 -0.755 0.5   -0.262  1     0          1"},{"path":"http://brycefrank.com/allometric/reference/hibbs_2007.html","id":null,"dir":"Reference","previous_headings":"","what":"Hibbs, Bluhm, and Garber (2007) — hibbs_2007","title":"Hibbs, Bluhm, and Garber (2007) — hibbs_2007","text":"Allometric models Hibbs, Bluhm, Garber (2007)","code":""},{"path":"http://brycefrank.com/allometric/reference/hibbs_2007.html","id":"stem-diameter-models","dir":"Reference","previous_headings":"","what":"Stem Diameter Models","title":"Hibbs, Bluhm, and Garber (2007) — hibbs_2007","text":"dsih = z <- hsd/hst, p <- hst/4.5, x <- (1 - sqrt(z))/(1 - sqrt(p)), a_1 * dsob^a_2 * x^(a_3 * (1.364409 * dsob^(1/3) * exp(a_4 * z) + exp(a_5 * (dsob/hst)^a_6 * z))) dsih [] - diameter stem, inside bark specified height dsob [] - diameter stem, outside bark breast height hst [ft] - total height stem hsd [] - height specified diameter (taper) Model Parameters","code":"a_1   a_2   a_3   a_4   a_5   a_6 1 0.900  1.02 0.263 -18.9  4.25 0.622"},{"path":"http://brycefrank.com/allometric/reference/huy_2019.html","id":null,"dir":"Reference","previous_headings":"","what":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","title":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","text":"Allometric models Huy, Tinh, Poudel et al. (2019)","code":""},{"path":"http://brycefrank.com/allometric/reference/huy_2019.html","id":"stem-biomass-models","dir":"Reference","previous_headings":"","what":"Stem Biomass Models","title":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","text":"bs = a_1 * dsob^b_11 * hst^b_12 * es^b_13 bs [kg] - stem biomass dsob [cm] - diameter stem, outside bark breast height hst [m] - total height stem es [g/cm^3] - stem density Model Parameters  bs [kg] - stem biomass dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family              a_1  b_11  b_12  b_13 1 <NA>             0.0206  2.35 0.591 0.691 2 Dipterocarpaceae 0.0255  2.25 0.695 0.954 family           genus            a_1  b_11 1 Dipterocarpaceae Dipterocarpus 0.0183  2.76 2 Dipterocarpaceae Shorea        0.0392  2.47"},{"path":"http://brycefrank.com/allometric/reference/huy_2019.html","id":"branch-biomass-models","dir":"Reference","previous_headings":"","what":"Branch Biomass Models","title":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","text":"bb = a_2 * dsob^b_21 bb [kg] - branch biomass dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family           genus             a_2  b_21 1 <NA>             <NA>          0.00669  2.86 2 Dipterocarpaceae <NA>          0.0110   2.74 3 Dipterocarpaceae Dipterocarpus 0.00481  2.96 4 Dipterocarpaceae Shorea        0.0213   2.49"},{"path":"http://brycefrank.com/allometric/reference/huy_2019.html","id":"foliage-biomass-models","dir":"Reference","previous_headings":"","what":"Foliage Biomass Models","title":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","text":"bf = a_3 * dsob^b_31 bf [kg] - foliage biomass dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family           genus            a_3  b_31 1 <NA>             <NA>          0.0370  1.68 2 Dipterocarpaceae <NA>          0.0456  1.63 3 Dipterocarpaceae Dipterocarpus 0.0892  1.44 4 Dipterocarpaceae Shorea        0.0512  1.51"},{"path":"http://brycefrank.com/allometric/reference/huy_2019.html","id":"bark-biomass-models","dir":"Reference","previous_headings":"","what":"Bark Biomass Models","title":"Huy, Tinh, Poudel, Frank, and Temesgen (2019) — huy_2019","text":"bk = a_4 * dsob^b_41 bk [kg] - bark biomass dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family           genus             a_4  b_41 1 <NA>             <NA>          0.0154   2.44 2 Dipterocarpaceae <NA>          0.00399  2.84 3 Dipterocarpaceae Dipterocarpus 0.00116  3.19 4 Dipterocarpaceae Shorea        0.320    1.47"},{"path":"http://brycefrank.com/allometric/reference/kozak_1988.html","id":null,"dir":"Reference","previous_headings":"","what":"Kozak (1988) — kozak_1988","title":"Kozak (1988) — kozak_1988","text":"Allometric models Kozak (1988)","code":""},{"path":"http://brycefrank.com/allometric/reference/kozak_1988.html","id":"stem-diameter-models","dir":"Reference","previous_headings":"","what":"Stem Diameter Models","title":"Kozak (1988) — kozak_1988","text":"dsih = x <- (1 - sqrt(hsd/hst))/(1 - sqrt(p)), z <- hsd/hst, a_0 * dsob^a_1 * a_2^dsob * x^(b_1 * z^2 + b_2 * log(z + 0.001) + b_3 * sqrt(z) + b_4 * exp(z) + b_5 * (dsob/hst)) dsih [cm] - diameter stem, inside bark specified height hst [m] - total height stem hsd [m] - height specified diameter (taper) dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family      genus species   a_0   a_1   a_2   b_1     b_2   b_3     b_4    b_5 1 Pinaceae    Pseu… menzie… 1.02  0.888 1.00  0.951 -0.181  0.614 -0.351  0.0569 2 Cupressace… Thuja plicata 1.22  0.843 1.00  1.55  -0.397  2.11  -1.11   0.0942 3 Pinaceae    Pinus contor… 0.775 1.04  0.997 0.746 -0.130  0.559 -0.324  0.199  4 Salicaceae  Popu… tricho… 0.853 0.953 1.00  0.732 -0.0842 0.196 -0.0698 0.148  # … with 1 more variable: p <dbl>"},{"path":"http://brycefrank.com/allometric/reference/MixedEffectsModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Instantiate a fixed effects model. — MixedEffectsModel","title":"Instantiate a fixed effects model. — MixedEffectsModel","text":"class essentially wrapper around ParametricModel clarifies intent FixedEffectsModel MixedEffectsModel.","code":""},{"path":"http://brycefrank.com/allometric/reference/MixedEffectsModel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Instantiate a fixed effects model. — MixedEffectsModel","text":"","code":"MixedEffectsModel(   response_unit,   covariate_units,   predict_ranef,   predict_fn,   parameters,   fixed_only = FALSE,   descriptors = list() )"},{"path":"http://brycefrank.com/allometric/reference/moore_1996.html","id":null,"dir":"Reference","previous_headings":"","what":"Moore, Zhang, and Stuck (1996) — moore_1996","title":"Moore, Zhang, and Stuck (1996) — moore_1996","text":"Allometric models Moore, Zhang, Stuck (1996)","code":""},{"path":"http://brycefrank.com/allometric/reference/moore_1996.html","id":"stem-height-models","dir":"Reference","previous_headings":"","what":"Stem Height Models","title":"Moore, Zhang, and Stuck (1996) — moore_1996","text":"hst = 4.5 + exp(+ (b/(dsob + 1))) hst [ft] - total height stem dsob [] - diameter stem, outside bark breast height Model Parameters  hst [ft] - total height stem dsob [] - diameter stem, outside bark breast height Model Parameters","code":"family       genus       species      a           b  1 Pinaceae     Pinus       monticola    5.3004 -12.4   2 Pinaceae     Larix       occidentalis 5.2554 -11.3   3 Pinaceae     Pseudotsuga menziesii    5.0207  -9.89  4 Pinaceae     Abies       grandis      5.1472 -10.4   5 Pinaceae     Tsuga       heterophylla 4 9079  -8.01  6 Cupressaceae Thuja       plicata      5.1039 -14.6   7 Pinaceae     Pinus       contorta     4.7979  -7.55  8 Pinaceae     Picea       engelmannii  5.1282 -12.8   9 Pinaceae     Abies       lasiocarpa   4.918   -9.87 10 Pinaceae     Pinus       ponderosa    5.1094 -11.9 family       genus       species          a     b     c  1 Pinaceae     Pinus       monticola     267.  6.23 0.649  2 Pinaceae     Larix       occidentalis 1286.  5.49 0.262  3 Pinaceae     Pseudotsuga menziesii     995.  5.00 0.249  4 Pinaceae     Abies       grandis       314.  4.72 0.478  5 Pinaceae     Tsuga       heterophylla  132.  7.12 1.00   6 Cupressaceae Thuja       plicata       186.  7.73 0.752  7 Pinaceae     Pinus       contorta      120.  5.49 0.913  8 Pinaceae     Picea       engelmannii   559.  4.96 0.334  9 Pinaceae     Abies       lasiocarpa    172.  5.22 0.667 10 Pinaceae     Pinus       ponderosa    1769.  5.77 0.220"},{"path":"http://brycefrank.com/allometric/reference/ParametricModel.html","id":null,"dir":"Reference","previous_headings":"","what":"Base class for all parametric models. — ParametricModel","title":"Base class for all parametric models. — ParametricModel","text":"base class used FixedEffectsModel MixedEffectsModel","code":""},{"path":"http://brycefrank.com/allometric/reference/ParametricModel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base class for all parametric models. — ParametricModel","text":"","code":"ParametricModel(   response_unit,   covariate_units,   predict_fn,   parameters,   descriptors = list() )"},{"path":"http://brycefrank.com/allometric/reference/poudel_2018.html","id":null,"dir":"Reference","previous_headings":"","what":"Poudel, Temesgen, and Gray (2018) — poudel_2018","title":"Poudel, Temesgen, and Gray (2018) — poudel_2018","text":"Allometric models Poudel, Temesgen, Gray (2018)","code":""},{"path":"http://brycefrank.com/allometric/reference/poudel_2018.html","id":"stem-ratio-models","dir":"Reference","previous_headings":"","what":"Stem Ratio Models","title":"Poudel, Temesgen, and Gray (2018) — poudel_2018","text":"rsdodi = x <- (hst - hsd)/(hst - 1.3), b_1 + b_2 * x + b_3 * x^2 + b_4 * x^3 + b_5 * x^4 rsdodi [cm/cm] - diameter stem inside bark height along stem divided diameter outside bark breast height hst [m] - total height stem hsd [m] - height specified diameter (taper) Model Parameters  rsdodi [cm/cm] - diameter stem inside bark height along stem divided diameter outside bark breast height hst [m] - total height stem hsd [m] - height specified diameter (taper) dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family   genus       species         b_1   b_2   b_3   b_4   b_5 1 Pinaceae Pseudotsuga menziesii    0.0244 0.858  2.57 -5.56  3.05 2 Pinaceae Tsuga       heterophylla 0.0308 0.430  4.12 -7.85  4.27 family   genus      species   b_1    b_2     b_3    b_4     b_5    b_6     b_7 1 Pinaceae Pseudotsu… menzie… 0.140 0.730  0.154   -0.121 0.00124 0.0268 -0.0958 2 Pinaceae Tsuga      hetero… 1.85  0.0101 0.00175 -1.05  0.0029  0.0348 -0.131"},{"path":"http://brycefrank.com/allometric/reference/poudel_2018.html","id":"stem-diameter-models","dir":"Reference","previous_headings":"","what":"Stem Diameter Models","title":"Poudel, Temesgen, and Gray (2018) — poudel_2018","text":"dsih = t <- hsd/hst, k <- 1.3/hst, b_1 * dsob^b_2 * b_3^dsob * ((1 - sqrt(t))/(1 - sqrt(p)))^(b_4 * t^2 + b_5 * log(t + 0.001) + b_6 * sqrt(t) + b_7 * exp(t) + b_8 * (dsob/hst)) dsih [cm] - diameter stem, inside bark specified height hst [m] - total height stem hsd [m] - height specified diameter (taper) dsob [cm] - diameter stem, outside bark breast height Model Parameters  dsih [cm] - diameter stem, inside bark specified height hst [m] - total height stem hsd [m] - height specified diameter (taper) dsob [cm] - diameter stem, outside bark breast height Model Parameters  dsih [cm] - diameter stem, inside bark specified height hst [m] - total height stem hsd [m] - height specified diameter (taper) dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family  genus species   b_1   b_2   b_3   b_4    b_5    b_6    b_7   b_8     p 1 Pinace… Pseu… menzie… 0.793  1.02 0.998  1.10 -0.180  1.19  -0.611 0.155  0.25 2 Pinace… Tsuga hetero… 0.923  1.01 0.998  1.05 -0.162 -0.244 -0.314 0.302  0.12 family genus species   b_1   b_2     b_3   b_4   b_5   b_6   b_7    b_8    b_9 1 Pinac… Pseu… menzie…  1.04 0.998 -0.0311 0.538 -1.01 0.568  4.96 0.0412 -0.344 2 Pinac… Tsuga hetero…  1.06 0.994 -0.0168 0.646 -1.57 0.743  4.76 0.0389 -0.194 family   genus       species         b_1     b_2     b_3 1 Pinaceae Pseudotsuga menziesii    0.309   0.0862  0.0777 2 Pinaceae Tsuga       heterophylla 0.0456 -0.0236 -0.866"},{"path":"http://brycefrank.com/allometric/reference/ritchie_1987.html","id":null,"dir":"Reference","previous_headings":"","what":"Ritchie and Hann (1987) — ritchie_1987","title":"Ritchie and Hann (1987) — ritchie_1987","text":"Allometric models Ritchie Hann (1987)","code":""},{"path":"http://brycefrank.com/allometric/reference/ritchie_1987.html","id":"crown-ratio-models","dir":"Reference","previous_headings":"","what":"Crown Ratio Models","title":"Ritchie and Hann (1987) — ritchie_1987","text":"rc = 1 - ((1)/(1 + exp(b_0 + b_1 * hst + b_2 * ccfl + b_3 * log(gn) + b_4 * (dsob/hst) + b_5 * (hstix50 - 4.5)))) rc [ft/ft] - crown ratio hst [ft] - total height stem ccfl [ft^2/ft^2] - variable defined gn [ft^2/acre] - variable defined dsob [] - diameter stem, outside bark breast height hstix50 [ft] - site index 50 year base age Model Parameters  rc [ft/ft] - crown ratio hst [ft] - total height stem ccfl [ft^2/ft^2] - variable defined gn [ft^2/acre] - variable defined Model Parameters  rc [ft/ft] - crown ratio hst [ft] - total height stem ccfl [ft^2/ft^2] - variable defined gn [ft^2/acre] - variable defined dsob [] - diameter stem, outside bark breast height Model Parameters  rc [ft/ft] - crown ratio ccfl [ft^2/ft^2] - variable defined Model Parameters  rc [ft/ft] - crown ratio ccfl [ft^2/ft^2] - variable defined Model Parameters  rc [ft/ft] - crown ratio gn [ft^2/acre] - variable defined Model Parameters  rc [ft/ft] - crown ratio hst [ft] - total height stem dsob [] - diameter stem, outside bark breast height gn [ft^2/acre] - variable defined Model Parameters  rc [ft/ft] - crown ratio hst [ft] - total height stem ccfl [ft^2/ft^2] - variable defined Model Parameters","code":"family   genus       species     b_0      b_1      b_2    b_3   b_4     b_5 1 Pinaceae Pseudotsuga menziesii  2.60 -0.00726 -0.00458 -0.442  1.61 0.00468 2 Pinaceae Abies       grandis    2.71 -0.00367 -0.00455 -0.505  1.73 0.00473 3 Pinaceae Abies       concolor   2.71 -0.00367 -0.00455 -0.505  1.73 0.00473 4 Pinaceae Pinus       ponderosa  2.35 -0.00206 -0.00260 -0.622  3.10 0.00426 family    genus   species       b_0      b_1      b_2    b_3 1 Pinaceae  Pinus   lambertiana  2.60 -0.00726 -0.00458 -0.442 2 Ericaceae Arbutus menziesii    2.71 -0.00367 -0.00455 -0.505 family       genus       species        b_0      b_2    b_3   b_4 1 Cupressaceae Calocedrus  decurrens     4.40 -0.00267 -0.845  1.09 2 Fagaceae     Chrysolepis chrysophylla  1.66 -0.00241 -0.355  1.25 family   genus   species        b_0      b_2 1 Pinaceae Tsuga   heterophylla 0.791 -0.00256 2 Fagaceae Quercus garryana     0.362 -0.00648 family   genus            species           b_2 1 Fagaceae Notholithocarpus densiflorus -0.000886 family   genus   species       b_0    b_3 1 Fagaceae Quercus chrysolepis  2.22 -0.427 family   genus   species     b_0    b_3   b_4 1 Fagaceae Quercus kelloggii  2.66 -0.647 0.728 family   genus   species     b_0      b_1      b_2 1 Fagaceae Quercus kelloggii 0.919 -0.00768 -0.00618"},{"path":"http://brycefrank.com/allometric/reference/rustagi_1991.html","id":null,"dir":"Reference","previous_headings":"","what":"Rustagi and Loveless Jr (1991) — rustagi_1991","title":"Rustagi and Loveless Jr (1991) — rustagi_1991","text":"Allometric models Rustagi Loveless Jr (1991)","code":""},{"path":"http://brycefrank.com/allometric/reference/rustagi_1991.html","id":"stem-volume-models","dir":"Reference","previous_headings":"","what":"Stem Volume Models","title":"Rustagi and Loveless Jr (1991) — rustagi_1991","text":"vso = kb_0 * (dsib)^2 * hso + kb_1 * (dsib)^2 * (hsdip75 - 1.37) vso [m^3] - volume stem breast height dsib [cm] - diameter stem, inside bark breast height hso [m] - height stem breast height hsdip75 [m] - height diameter 0.75 times diameter inside bark breast height Model Parameters  vso [m^3] - volume stem breast height dsib [cm] - diameter stem, inside bark breast height hso [m] - height stem breast height hsdop67 [m] - height diameter 0.67 times diameter outside bark breast height Model Parameters  vso [m^3] - volume stem breast height dsob [cm] - diameter stem, outside bark breast height hso [m] - height stem breast height hsdop67 [m] - height diameter 0.67 times diameter outside bark breast height Model Parameters","code":"kb_0      kb_1 1 0.0000146 0.0000528 kb_0      kb_1 1 0.0000109 0.0000516 k       a       b      c      d      e     f 1 0.0000785 0.00678 -0.0428 0.0676 0.0656 -0.414 0.654"},{"path":"http://brycefrank.com/allometric/reference/temesgen_2008.html","id":null,"dir":"Reference","previous_headings":"","what":"Temesgen, Monleon, and Hann (2008) — temesgen_2008","title":"Temesgen, Monleon, and Hann (2008) — temesgen_2008","text":"Allometric models Temesgen, Monleon, Hann (2008)","code":""},{"path":"http://brycefrank.com/allometric/reference/temesgen_2008.html","id":"stem-height-models","dir":"Reference","previous_headings":"","what":"Stem Height Models","title":"Temesgen, Monleon, and Hann (2008) — temesgen_2008","text":"hst = 1.37 + b_0 * (1 - exp(b_1 * dsob)^b_2) hst [m] - total height stem dsob [cm] - diameter stem, outside bark breast height Model Parameters  hst [m] - total height stem dsob [cm] - diameter stem, outside bark breast height Model Parameters  hst [m] - total height stem dsob [cm] - diameter stem, outside bark breast height Model Parameters  hst [m] - total height stem ccfl [m2/ha] - variable defined ba [m2/ha] - variable defined dsob [cm] - diameter stem, outside bark breast height Model Parameters  hst [m] - total height stem ccfl [m2/ha] - variable defined gn [m2/ha] - variable defined dsob [cm] - diameter stem, outside bark breast height Model Parameters  hst [m] - total height stem ccfl [m2/ha] - variable defined gn [m2/ha] - variable defined dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"b_0     b_1   b_2 1  52.0 -0.0208  1.02 beta_0  beta_1 beta_2 sigma_sq_b sigma_sq_epsilon 1   40.4 -0.0276  0.936       6.54             2.69 beta_0  beta_1 beta_2 1   41.8 -0.0241  0.860 beta_00 beta_01 beta_02  beta_1 beta_2 1    43.7  0.0644   0.128 -0.0194   1.08 beta_00 beta_01 beta_02 beta_1 beta_2 1    32.5  0.0363   0.258 -0.021  0.991 beta_00 beta_01 beta_02  beta_1 beta_2 1    35.7  0.0431   0.245 -0.0184  0.961"},{"path":"http://brycefrank.com/allometric/reference/turner_2000.html","id":null,"dir":"Reference","previous_headings":"","what":"Turner, Acker, Means, and Garman (2000) — turner_2000","title":"Turner, Acker, Means, and Garman (2000) — turner_2000","text":"Allometric models Turner, Acker, Means et al. (2000)","code":""},{"path":"http://brycefrank.com/allometric/reference/turner_2000.html","id":"foliage-biomass-models","dir":"Reference","previous_headings":"","what":"Foliage Biomass Models","title":"Turner, Acker, Means, and Garman (2000) — turner_2000","text":"bf = exp(+ (b * log(dsob))) bf [kg] - foliage biomass dsob [cm] - diameter stem, outside bark breast height Model Parameters","code":"family       genus       species          a     b 1 Pinaceae     Pseudotsuga menziesii    -2.85  1.70 2 Pinaceae     Tsuga       heterophylla -4.13  2.13 3 Cupressaceae Thuja       plicata      -2.62  1.78"}]
